================================================================================
COMPREHENSIVE EMBEDDING AND SOLVING BENCHMARK
================================================================================
Testing: Formulations × Decompositions × Solvers
================================================================================

[1/6] Importing libraries...
  ✅ Imports done in 2.61s

[2/6] Getting target graph (QPU topology)...
  Using simulated Pegasus P16 topology
  ✅ Target graph: 5640 nodes, 40484 edges

================================================================================
TESTING PROBLEM SIZE: 25 units
================================================================================

[3/6] Farm Scenario (25 farms)...
  Building Farm CQM...
    Building Farm CQM (25 farms, 27 foods)...
    Solving Farm CQM with Gurobi...
      Solving CQM (1350 vars, 1377 constraints)...
        [1/5] Creating Gurobi model...
Set parameter Username
Set parameter LicenseID to value 2728803
Academic license - for non-commercial use only - expires 2026-10-28
        [2/5] Adding variables...
        [3/5] Building objective (675 linear, 0 quadratic)...
        [4/5] Adding 1377 constraints...
            Progress: 100/1377
            Progress: 200/1377
            Progress: 300/1377
            Progress: 400/1377
            Progress: 500/1377
            Progress: 600/1377
            Progress: 700/1377
            Progress: 800/1377
            Progress: 900/1377
            Progress: 1000/1377
            Progress: 1100/1377
            Progress: 1200/1377
            Progress: 1300/1377
        [5/5] Optimizing...
        ✓ Done in 0.01s (status=3)
  (Skipping BQM conversion for Farm - continuous variables not supported)

[4/6] Patch Scenario (25 patches)...
  Building Patch CQM...
    Building Patch CQM (25 patches, 27 foods)...
      Solving CQM (675 vars, 26 constraints)...
        [1/5] Creating Gurobi model...
        [2/5] Adding variables...
        [3/5] Building objective (675 linear, 0 quadratic)...
        [4/5] Adding 26 constraints...
        [5/5] Optimizing...
        ✓ Done in 0.00s (status=3)
  Converting Patch CQM to BQM...
    Converting Patch_CQM to BQM...
      Testing embedding: 760 vars, 236370 edges (density=0.409)
      Running minorminer (timeout=180s)...
      ✗ No embedding (tried for 197.2s)
      Solving BQM (760 vars, 236370 quad)...
        Creating model and optimizing...
        ✓ Done in 100.07s (status=9)
  Building Patch Direct BQM...
    Building Patch Direct BQM (25 patches, 27 foods)...
      Testing embedding: 675 vars, 8775 edges (density=0.019)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 50.4s (chains: max=9, mean=4.3)
      Solving BQM (675 vars, 8775 quad)...
        Creating model and optimizing...
        ✓ Done in 1.82s (status=2)
  Building Patch Ultra-Sparse BQM...
    Building Patch Ultra-Sparse BQM (25 patches, 27 foods)...
      Testing embedding: 675 vars, 648 edges (density=0.001)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.9s (chains: max=1, mean=1.0)
      Solving BQM (675 vars, 648 quad)...
        Creating model and optimizing...
        ✓ Done in 0.01s (status=2)

  Testing decompositions on embeddable formulations...

    Decomposing Direct_BQM (675 vars, 8775 edges, density=0.019)...
      [1/5] Louvain decomposition...
        Created 5 partitions
      Embedding 5 partitions...
      Testing embedding: 135 vars, 1755 edges (density=0.096)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 8.8s (chains: max=7, mean=4.0)
      Testing embedding: 135 vars, 1755 edges (density=0.096)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 6.4s (chains: max=7, mean=4.1)
      Testing embedding: 135 vars, 1755 edges (density=0.096)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 7.2s (chains: max=7, mean=4.2)
      Testing embedding: 135 vars, 1755 edges (density=0.096)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 5.1s (chains: max=7, mean=4.1)
      Testing embedding: 135 vars, 1755 edges (density=0.096)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 12.9s (chains: max=6, mean=4.0)
      Solving BQM (675 vars, 8775 quad)...
        Creating model and optimizing...
        ✓ Done in 1.78s (status=2)
      [2/5] Plot-based decomposition...
        Created 5 partitions (5 plots each)
      Embedding 5 partitions...
      Testing embedding: 135 vars, 1755 edges (density=0.096)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 5.5s (chains: max=7, mean=4.1)
      Testing embedding: 135 vars, 1755 edges (density=0.096)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 5.0s (chains: max=8, mean=4.4)
      Testing embedding: 135 vars, 1755 edges (density=0.096)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 4.4s (chains: max=7, mean=4.3)
      Testing embedding: 135 vars, 1755 edges (density=0.096)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 4.0s (chains: max=8, mean=4.3)
      Testing embedding: 135 vars, 1755 edges (density=0.096)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 4.1s (chains: max=7, mean=4.3)
      Solving BQM (675 vars, 8775 quad)...
        Creating model and optimizing...
        ✓ Done in 1.76s (status=2)
      [3/5] Energy-impact decomposition...
      [4/5] Multilevel (ML-QLS) decomposition...
        Created 4 partitions
      Embedding 4 partitions...
      Testing embedding: 193 vars, 2463 edges (density=0.066)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 7.3s (chains: max=8, mean=4.1)
      Testing embedding: 193 vars, 2463 edges (density=0.066)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 11.4s (chains: max=8, mean=4.2)
      Testing embedding: 193 vars, 2387 edges (density=0.064)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 9.7s (chains: max=8, mean=4.1)
      Testing embedding: 96 vars, 1126 edges (density=0.122)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 4.9s (chains: max=5, mean=3.5)
      Solving BQM (675 vars, 8775 quad)...
        Creating model and optimizing...
        ✓ Done in 1.76s (status=2)
      [5/5] Sequential cut-set decomposition...
        Created 23 partitions
      Embedding 23 partitions...
      Testing embedding: 30 vars, 354 edges (density=0.393)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 2.8s (chains: max=5, mean=3.5)
      Testing embedding: 30 vars, 291 edges (density=0.323)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 1.3s (chains: max=4, mean=3.0)
      Testing embedding: 30 vars, 246 edges (density=0.273)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 1.4s (chains: max=4, mean=2.5)
      Testing embedding: 30 vars, 219 edges (density=0.243)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 1.0s (chains: max=3, mean=2.4)
      Testing embedding: 30 vars, 210 edges (density=0.233)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.6s (chains: max=3, mean=2.4)
      Testing embedding: 30 vars, 219 edges (density=0.243)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.8s (chains: max=3, mean=2.3)
      Testing embedding: 30 vars, 246 edges (density=0.273)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 1.4s (chains: max=4, mean=2.6)
      Testing embedding: 30 vars, 291 edges (density=0.323)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 1.7s (chains: max=4, mean=3.0)
      Testing embedding: 30 vars, 354 edges (density=0.393)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 2.6s (chains: max=5, mean=3.4)
      Testing embedding: 30 vars, 354 edges (density=0.393)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 3.6s (chains: max=5, mean=3.4)
      Testing embedding: 30 vars, 291 edges (density=0.323)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 1.2s (chains: max=5, mean=3.1)
      Testing embedding: 30 vars, 246 edges (density=0.273)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 1.2s (chains: max=4, mean=2.5)
      Testing embedding: 30 vars, 219 edges (density=0.243)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.7s (chains: max=3, mean=2.3)
      Testing embedding: 30 vars, 210 edges (density=0.233)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.6s (chains: max=3, mean=2.4)
      Testing embedding: 30 vars, 219 edges (density=0.243)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.6s (chains: max=4, mean=2.4)
      Testing embedding: 30 vars, 246 edges (density=0.273)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 1.4s (chains: max=4, mean=2.4)
      Testing embedding: 30 vars, 291 edges (density=0.323)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 1.9s (chains: max=4, mean=3.0)
      Testing embedding: 30 vars, 354 edges (density=0.393)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 3.4s (chains: max=5, mean=3.4)
      Testing embedding: 30 vars, 354 edges (density=0.393)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.9s (chains: max=5, mean=3.3)
      Testing embedding: 30 vars, 291 edges (density=0.323)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 1.8s (chains: max=5, mean=3.0)
      Testing embedding: 30 vars, 246 edges (density=0.273)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.7s (chains: max=4, mean=2.6)
      Testing embedding: 30 vars, 219 edges (density=0.243)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.7s (chains: max=3, mean=2.3)
      Testing embedding: 15 vars, 105 edges (density=0.467)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.5s (chains: max=3, mean=2.3)
      Solving BQM (675 vars, 8775 quad)...
        Creating model and optimizing...
        ✓ Done in 1.82s (status=2)

    Decomposing UltraSparse_BQM (675 vars, 648 edges, density=0.001)...
      [1/5] Louvain decomposition...
        Created 5 partitions
      Embedding 5 partitions...
      Testing embedding: 150 vars, 144 edges (density=0.006)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.2s (chains: max=1, mean=1.0)
      Testing embedding: 150 vars, 144 edges (density=0.006)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.2s (chains: max=1, mean=1.0)
      Testing embedding: 150 vars, 144 edges (density=0.006)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.2s (chains: max=1, mean=1.0)
      Testing embedding: 150 vars, 144 edges (density=0.006)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.2s (chains: max=1, mean=1.0)
      Testing embedding: 75 vars, 72 edges (density=0.013)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.1s (chains: max=1, mean=1.0)
      Solving BQM (675 vars, 648 quad)...
        Creating model and optimizing...
        ✓ Done in 0.01s (status=2)
      [2/5] Plot-based decomposition...
        Created 5 partitions (5 plots each)
      Embedding 5 partitions...
      Testing embedding: 135 vars, 108 edges (density=0.006)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.2s (chains: max=1, mean=1.0)
      Testing embedding: 135 vars, 108 edges (density=0.006)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.2s (chains: max=1, mean=1.0)
      Testing embedding: 135 vars, 108 edges (density=0.006)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.2s (chains: max=1, mean=1.0)
      Testing embedding: 135 vars, 108 edges (density=0.006)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.2s (chains: max=1, mean=1.0)
      Testing embedding: 135 vars, 108 edges (density=0.006)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.2s (chains: max=1, mean=1.0)
      Solving BQM (675 vars, 648 quad)...
        Creating model and optimizing...
        ✓ Done in 0.01s (status=2)
      [3/5] Energy-impact decomposition...
      [4/5] Multilevel (ML-QLS) decomposition...
        Created 4 partitions
      Embedding 4 partitions...
      Testing embedding: 177 vars, 169 edges (density=0.005)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.2s (chains: max=1, mean=1.0)
      Testing embedding: 179 vars, 171 edges (density=0.005)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.2s (chains: max=1, mean=1.0)
      Testing embedding: 176 vars, 168 edges (density=0.005)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.2s (chains: max=1, mean=1.0)
      Testing embedding: 143 vars, 137 edges (density=0.007)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.2s (chains: max=1, mean=1.0)
      Solving BQM (675 vars, 648 quad)...
        Creating model and optimizing...
        ✓ Done in 0.01s (status=2)
      [5/5] Sequential cut-set decomposition...
        Created 23 partitions
      Embedding 23 partitions...
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.1s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 30 vars, 3 edges (density=0.003)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Testing embedding: 15 vars, 0 edges (density=0.000)
      Running minorminer (timeout=180s)...
      ✓ Embedded in 0.0s (chains: max=1, mean=1.0)
      Solving BQM (675 vars, 648 quad)...
        Creating model and optimizing...
        ✓ Done in 0.01s (status=2)

[5/6] Saving results...
  ✅ Results saved to /Users/edoardospigarolo/Documents/OQI-UC002-DWave/@todo/benchmark_results/comprehensive_benchmark_20251127_161355.json

[6/6] Summary...

================================================================================
BENCHMARK COMPLETE
================================================================================
Total experiments: 13
Output: /Users/edoardospigarolo/Documents/OQI-UC002-DWave/@todo/benchmark_results/comprehensive_benchmark_20251127_161355.json

Successful embeddings: 2/11
Successful solves: 10/13
